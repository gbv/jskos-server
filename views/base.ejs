<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>JSKOS Server</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css">
    body {
      margin: 20px;
    }
    a:link, a:visited {
      text-decoration: none;
      color: rgb(96, 143, 219);
    }
    a:hover, a:active {
      text-decoration: underline;
    }
    </style>
  </head>
  <body>
    <h1>JSKOS Server</h1>
    <h2>Documentation</h2>
    <p>
      Visit the project on <a href="https://github.com/gbv/jskos-server" target="_blank">GitHub</a> for the full documentation.
    </p>
    <h2>Available Endpoints</h2>
    <p>
      All the following endpoints are available on this instance of jskos-server:
    </p>
    <h3>General</h3>
    <ul>
      <li>GET <a href="status">/status</a> - Returns a status object (<a href="status.schema.json">JSON Schema</a>, <a href="https://github.com/gbv/jskos-server#get-status" target="_blank">documentation</a>)</li>
      <li>GET <a href="checkAuth">/checkAuth</a> - Endpoint to check whether a user is authorized (<a href="https://github.com/gbv/jskos-server#get-checkauth" target="_blank">documentation</a>)</li>
    </ul>
    <% if (config.concordances) { %>
    <h3>Concordances</h3>
    <ul>
      <li>GET <a href="concordances">/concordances</a> - Returns a list of concordances for mappings (<a href="https://github.com/gbv/jskos-server#get-concordances" target="_blank">documentation</a>)</li>
    </ul>
    <% } %>
    <% if (config.mappings) { %>
    <h3>Mappings</h3>
    <ul>
      <li>GET <a href="mappings/suggest">/mappings/suggest</a> - Suggests notations used in mappings (<a href="https://github.com/gbv/jskos-server#get-mappingssuggest" target="_blank">documentation</a>)</li>
      <li>GET <a href="mappings/voc">/mappings/voc</a> - Returns a list of concept schemes used in mappings (<a href="https://github.com/gbv/jskos-server#get-mappingsvoc" target="_blank">documentation</a>)</li>
      <% if (config.mappings.read) { %>
      <li>GET <a href="mappings">/mappings</a> - Returns a list of mappings (<a href="https://github.com/gbv/jskos-server#get-mappings" target="_blank">documentation</a>)</li>
      <li>GET /mappings/:_id - Returns a specific mapping (<a href="https://github.com/gbv/jskos-server#get-mappings_id" target="_blank">documentation</a>)</li>
      <% } %>
      <% if (config.mappings.create) { %>
      <li>POST /mappings - Saves a mapping in the database (<% if (config.mappings.create.auth) { %>authentication needed, <% } %><a href="https://github.com/gbv/jskos-server#post-mappings" target="_blank">documentation</a>)</li>
      <% } %>
      <% if (config.mappings.update) { %>
      <li>PUT /mappings/:_id - Overwrites a mapping in the database (<% if (config.mappings.update.auth) { %>authentication needed, <% } %><a href="https://github.com/gbv/jskos-server#put-mappings_id" target="_blank">documentation</a>)</li>
      <li>PATCH /mappings/:_id - Adjusts a mapping in the database (<% if (config.mappings.update.auth) { %>authentication needed, <% } %><a href="https://github.com/gbv/jskos-server#patch-mappings_id" target="_blank">documentation</a>)</li>
      <% } %>
      <% if (config.mappings.delete) { %>
      <li>DELETE /mappings/:_id - Deletes a mapping from the database (<% if (config.mappings.delete.auth) { %>authentication needed, <% } %><a href="https://github.com/gbv/jskos-server#put-mappings_id" target="_blank">documentation</a>)</li>
      <% } %>
    </ul>
    <% } %>
    <% if (config.schemes) { %>
    <h3>Concept Schemes</h3>
    <ul>
      <li>GET <a href="voc">/voc</a> - Returns a list of terminologies (concept schemes) (<a href="https://github.com/gbv/jskos-server#get-voc" target="_blank">documentation</a>)</li>
      <li>GET <a href="voc/top">/voc/top</a> - Lists top concepts for a concept scheme (<a href="https://github.com/gbv/jskos-server#get-voctop" target="_blank">documentation</a>)</li>
      <li>GET <a href="voc/concepts">/voc/concepts</a> - Lists concepts for a concept scheme (<a href="https://github.com/gbv/jskos-server#get-vocconcepts" target="_blank">documentation</a>)</li>
    </ul>
    <% } %>
    <% if (config.concepts) { %>
    <h3>Concepts</h3>
    <ul>
      <li>GET <a href="data">/data</a> - Returns detailed data for concepts or concept schemes (<a href="https://github.com/gbv/jskos-server#get-data" target="_blank">documentation</a>)</li>
      <li>GET <a href="narrower">/narrower</a> - Returns narrower concepts for a concept (<a href="https://github.com/gbv/jskos-server#get-narrower" target="_blank">documentation</a>)</li>
      <li>GET <a href="ancestors">/ancestors</a> - Returns ancestor concepts for a concept (<a href="https://github.com/gbv/jskos-server#get-ancestors" target="_blank">documentation</a>)</li>
      <li>GET <a href="suggest">/suggest</a> - Returns concept suggestions (<a href="https://github.com/gbv/jskos-server#get-suggest" target="_blank">documentation</a>)</li>
      <li>GET <a href="search">/search</a> - Concept search (<a href="https://github.com/gbv/jskos-server#get-search" target="_blank">documentation</a>)</li>
    </ul>
    <% } %>
    <% if (config.annotations) { %>
    <h3>Annotations</h3>
    <ul>
        <% if (config.annotations.read) { %>
        <li>GET <a href="annotations">/annotations</a> - Returns a list of annotations (<a href="https://github.com/gbv/jskos-server#get-annotations" target="_blank">documentation</a>)</li>
        <li>GET /annotations/:_id - Returns a specific annotation (<a href="https://github.com/gbv/jskos-server#get-annotations_id" target="_blank">documentation</a>)</li>
        <% } %>
        <% if (config.annotations.create) { %>
        <li>POST /annotations - Saves an annotation in the database (<% if (config.annotations.create.auth) { %>authentication needed, <% } %><a href="https://github.com/gbv/jskos-server#post-annotations" target="_blank">documentation</a>)</li>
        <% } %>
        <% if (config.annotations.update) { %>
        <li>PUT /annotations/:_id - Overwrites an annotation in the database (<% if (config.annotations.update.auth) { %>authentication needed, <% } %><a href="https://github.com/gbv/jskos-server#put-annotations_id" target="_blank">documentation</a>)</li>
        <li>PATCH /annotations/:_id - Adjusts an annotation in the database (<% if (config.annotations.update.auth) { %>authentication needed, <% } %><a href="https://github.com/gbv/jskos-server#patch-annotations_id" target="_blank">documentation</a>)</li>
        <% } %>
        <% if (config.annotations.delete) { %>
        <li>DELETE /annotations/:_id - Deletes an annotation from the database (<% if (config.annotations.delete.auth) { %>authentication needed, <% } %><a href="https://github.com/gbv/jskos-server#put-annotations_id" target="_blank">documentation</a>)</li>
        <% } %>
    </ul>
    <% } %>
    </ul>
  </body>
</html>
